{
  "timestamp": "20250829_175244",
  "dockerfile_path": "envgym/envgym.dockerfile",
  "image_name": "envgym_test_1756489924",
  "build": {
    "success": false,
    "stdout": "",
    "stderr": "#0 building with \"default\" instance using docker driver\n\n#1 [internal] load build definition from envgym.dockerfile\n#1 transferring dockerfile: 1.88kB done\n#1 DONE 0.0s\n\n#2 [internal] load metadata for docker.io/library/ubuntu:22.04\n#2 DONE 0.2s\n\n#3 [internal] load .dockerignore\n#3 transferring context: 2B done\n#3 DONE 0.0s\n\n#4 [ 1/20] FROM docker.io/library/ubuntu:22.04@sha256:1aa979d85661c488ce030ac292876cf6ed04535d3a237e49f61542d8e5de5ae0\n#4 DONE 0.0s\n\n#5 [ 2/20] RUN apt-get update &&     apt-get install -y --no-install-recommends     git     curl     ca-certificates     gnupg     lsb-release     software-properties-common     openjdk-17-jre     chromium-browser     firefox     jq     unzip     xdg-utils &&     rm -rf /var/lib/apt/lists/*\n#5 CACHED\n\n#6 [ 3/20] RUN curl -fsSL https://deb.nodesource.com/setup_20.x | bash - &&     apt-get install -y nodejs\n#6 CACHED\n\n#7 [ 4/20] RUN curl -fsSL https://deno.land/install.sh | sh\n#7 0.720 \n#######                                                                   10.6%\n#####################################                                     52.5%\n#############################################################             85.7%\n######################################################################## 100.0%\n#7 0.987 Archive:  /root/.deno/bin/deno.zip\n#7 0.987   inflating: /root/.deno/bin/deno    \n#7 1.777 Deno was installed successfully to /root/.deno/bin/deno\n#7 1.777 Run '/root/.deno/bin/deno --help' to get started\n#7 1.777 \n#7 1.777 Stuck? Join our Discord https://discord.gg/deno\n#7 DONE 2.1s\n\n#8 [ 5/20] WORKDIR /darkreader\n#8 DONE 0.0s\n\n#9 [ 6/20] RUN git clone https://github.com/darkreader/darkreader.git .\n#9 0.220 Cloning into '.'...\n#9 DONE 2.6s\n\n#10 [ 7/20] RUN mkdir -p tasks && echo '{\"type\":\"module\"}' > tasks/package.json && jq . tasks/package.json\n#10 0.293 {\n#10 0.293   \"type\": \"module\"\n#10 0.293 }\n#10 DONE 0.3s\n\n#11 [ 8/20] RUN mkdir -p tests && echo '{\"type\":\"module\"}' > tests/package.json && jq . tests/package.json\n#11 0.315 {\n#11 0.315   \"type\": \"module\"\n#11 0.315 }\n#11 DONE 0.4s\n\n#12 [ 9/20] RUN echo '\"lts/*\"' > .nvmrc\n#12 DONE 0.4s\n\n#13 [10/20] RUN touch .env\n#13 DONE 0.4s\n\n#14 [11/20] RUN npm install --jobs=96 --ignore-scripts && [ -d \"node_modules\" ] && echo \"Success\"\n#14 8.519 \n#14 8.519 added 793 packages, and audited 794 packages in 8s\n#14 8.519 \n#14 8.519 177 packages are looking for funding\n#14 8.519   run `npm fund` for details\n#14 8.524 \n#14 8.524 3 low severity vulnerabilities\n#14 8.524 \n#14 8.524 To address all issues, run:\n#14 8.524   npm audit fix\n#14 8.524 \n#14 8.524 Run `npm audit` for details.\n#14 8.525 npm notice\n#14 8.525 npm notice New major version of npm available! 10.8.2 -> 11.5.2\n#14 8.525 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.5.2\n#14 8.525 npm notice To update run: npm install -g npm@11.5.2\n#14 8.525 npm notice\n#14 8.544 Success\n#14 DONE 9.3s\n\n#15 [12/20] RUN npm run test:unit\n#15 0.322 \n#15 0.322 > darkreader@4.9.111 test:unit\n#15 0.322 > jest --config=tests/unit/jest.config.mjs\n#15 0.322 \n#15 3.446 PASS tests/unit/utils/math.tests.ts\n#15 3.782 PASS tests/unit/utils/time.tests.ts\n#15 3.928 PASS tests/unit/utils/uid.tests.ts\n#15 3.947 PASS tests/unit/csp/csp.tests.ts\n#15 4.069 PASS tests/unit/config/locales.tests.ts\n#15 4.208 PASS tests/unit/utils/text.tests.ts\n#15 4.356 PASS tests/unit/utils/promise-barrier.tests.ts\n#15 4.428 PASS tests/unit/utils/state-manager.tests.ts\n#15 4.432 PASS tests/unit/utils/url.tests.ts\n#15 4.490 PASS tests/unit/generators/utils/parse.tests.ts\n#15 4.572 PASS tests/unit/utils/parsing.tests.ts\n#15 4.643 PASS tests/unit/inject/fixes.tests.ts\n#15 4.724 PASS tests/unit/utils/validation.tests.ts\n#15 4.772 PASS tests/unit/utils/color.tests.ts\n#15 4.976 PASS tests/unit/config/config.tests.ts\n#15 5.041 \n#15 5.042 Test Suites: 15 passed, 15 total\n#15 5.042 Tests:       63 passed, 63 total\n#15 5.042 Snapshots:   0 total\n#15 5.042 Time:        3.994 s\n#15 5.042 Ran all test suites.\n#15 DONE 5.2s\n\n#16 [13/20] RUN TEST_WORKERS=96 npm run test:browser\n#16 0.354 \n#16 0.354 > darkreader@4.9.111 test:browser\n#16 0.354 > npm run test:chrome && npm run test:chrome-mv3 && npm run test:firefox\n#16 0.354 \n#16 0.460 \n#16 0.460 > darkreader@4.9.111 test:chrome\n#16 0.460 > node tasks/cli.js build --debug --test --chrome-mv2 && jest --config=tests/browser/jest.config.mjs --runInBand\n#16 0.460 \n#16 1.215 \u001b[90m17:52:26\u001b[0m \u001b[32mBUILD\u001b[0m\n#16 1.217 \u001b[90m17:52:26\u001b[0m clean (1ms)\n#16 1.221 \u001b[90m17:52:26\u001b[0m bundle-html (4ms)\n#16 18.27 \u001b[90m17:52:43\u001b[0m bundle-js (17047ms)\n#16 18.43 \u001b[90m17:52:43\u001b[0m bundle-css (160ms)\n#16 18.57 \u001b[90m17:52:43\u001b[0m bundle-locales (139ms)\n#16 18.57 \u001b[90m17:52:43\u001b[0m bundle-manifest (1ms)\n#16 18.63 \u001b[90m17:52:43\u001b[0m copy (66ms)\n#16 18.63 \u001b[90m17:52:43\u001b[0m logging (0ms)\n#16 18.63 \u001b[90m17:52:43\u001b[0m \u001b[32mMISSION PASSED! RESPECT +\u001b[0m\n#16 19.38 Error: Could not find Chrome\n#16 19.38     at getChromePath (file:///darkreader/tests/browser/paths.js:54:11)\n#16 19.38     at processTicksAndRejections (node:internal/process/task_queues:95:5)\n#16 19.38     at CustomJestEnvironment.launchChrome (file:///darkreader/tests/browser/environment.js:88:30)\n#16 19.38     at CustomJestEnvironment.launchBrowser (file:///darkreader/tests/browser/environment.js:69:23)\n#16 19.38     at async Promise.all (index 1)\n#16 19.38     at CustomJestEnvironment.setup (file:///darkreader/tests/browser/environment.js:36:26)\n#16 19.38     at runTestInternal (/darkreader/node_modules/jest-runner/build/index.js:266:5)\n#16 19.38     at runTest (/darkreader/node_modules/jest-runner/build/index.js:340:7)\n#16 19.40 FAIL tests/browser/dynamic/style-override.tests.ts\n#16 19.40   ● Test suite failed to run\n#16 19.40 \n#16 19.40     An `executablePath` or `channel` must be specified for `puppeteer-core`\n#16 19.40 \n#16 19.40       92 |         // Explanation of these options:\n#16 19.40       93 |         // https://pptr.dev/guides/chrome-extensions\n#16 19.40     > 94 |         return await launch({\n#16 19.40          |                ^\n#16 19.40       95 |             executablePath,\n#16 19.40       96 |             headless: false,\n#16 19.40       97 |             args: [\n#16 19.40 \n#16 19.40       at assert (file:/darkreader/node_modules/puppeteer-core/src/util/assert.ts:19:11)\n#16 19.40       at ChromeLauncher.computeLaunchArguments (file:/darkreader/node_modules/puppeteer-core/src/node/ChromeLauncher.ts:122:7)\n#16 19.40       at ChromeLauncher.launch (file:/darkreader/node_modules/puppeteer-core/src/node/BrowserLauncher.ts:103:24)\n#16 19.40       at CustomJestEnvironment.launchChrome (file:/darkreader/tests/browser/environment.js:94:16)\n#16 19.40       at CustomJestEnvironment.launchBrowser (file:/darkreader/tests/browser/environment.js:69:23)\n#16 19.40           at async Promise.all (index 1)\n#16 19.40       at CustomJestEnvironment.setup (file:/darkreader/tests/browser/environment.js:36:26)\n#16 19.40 \n#16 19.41 node:events:502\n#16 19.41       throw er; // Unhandled 'error' event\n#16 19.41       ^\n#16 19.41 \n#16 19.41 Error: listen EADDRINUSE: address already in use :::8894\n#16 19.41     at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n#16 19.41     at listenInCluster (node:net:1965:12)\n#16 19.41     at Server.listen (node:net:2067:7)\n#16 19.41     at new WebSocketServer (/darkreader/node_modules/ws/lib/websocket-server.js:102:20)\n#16 19.41     at file:///darkreader/tests/browser/environment.js:337:30\n#16 19.41     at new Promise (<anonymous>)\n#16 19.41     at CustomJestEnvironment.createMessageServer (file:///darkreader/tests/browser/environment.js:336:16)\n#16 19.41     at CustomJestEnvironment.setup (file:///darkreader/tests/browser/environment.js:28:18)\n#16 19.41     at runTestInternal (/darkreader/node_modules/jest-runner/build/index.js:266:5)\n#16 19.41     at runTest (/darkreader/node_modules/jest-runner/build/index.js:340:7)\n#16 19.41 Emitted 'error' event on WebSocketServer instance at:\n#16 19.41     at Server.emit (node:events:524:28)\n#16 19.41     at emitErrorNT (node:net:1944:8)\n#16 19.41     at processTicksAndRejections (node:internal/process/task_queues:82:21) {\n#16 19.41   code: 'EADDRINUSE',\n#16 19.41   errno: -98,\n#16 19.41   syscall: 'listen',\n#16 19.41   address: '::',\n#16 19.41   port: 8894\n#16 19.41 }\n#16 19.41 \n#16 19.41 Node.js v20.19.4\n#16 ERROR: process \"/bin/sh -c TEST_WORKERS=96 npm run test:browser\" did not complete successfully: exit code: 1\n------\n > [13/20] RUN TEST_WORKERS=96 npm run test:browser:\n19.41     at emitErrorNT (node:net:1944:8)\n19.41     at processTicksAndRejections (node:internal/process/task_queues:82:21) {\n19.41   code: 'EADDRINUSE',\n19.41   errno: -98,\n19.41   syscall: 'listen',\n19.41   address: '::',\n19.41   port: 8894\n19.41 }\n19.41 \n19.41 Node.js v20.19.4\n------\nenvgym.dockerfile:30\n--------------------\n  28 |     RUN npm install --jobs=96 --ignore-scripts && [ -d \"node_modules\" ] && echo \"Success\"\n  29 |     RUN npm run test:unit\n  30 | >>> RUN TEST_WORKERS=96 npm run test:browser\n  31 |     RUN npm run test:inject\n  32 |     RUN NODE_OPTIONS=\"--max-old-space-size=8192\" npm run build && ls build/release/darkreader-*.zip\n--------------------\nERROR: failed to solve: process \"/bin/sh -c TEST_WORKERS=96 npm run test:browser\" did not complete successfully: exit code: 1\n"
  },
  "run": {
    "success": false,
    "stdout": "",
    "stderr": ""
  }
}